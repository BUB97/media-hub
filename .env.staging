# 预发布环境配置

# 应用配置
NODE_ENV=staging
RUST_ENV=staging
APP_NAME=media-hub-staging
APP_VERSION=1.0.0

# 服务端口
FRONTEND_PORT=3000
BACKEND_PORT=8000
NGINX_PORT=80

# 数据库配置
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=media_hub_staging
POSTGRES_USER=media_hub_user
POSTGRES_PASSWORD=staging_password_change_me
DATABASE_URL=postgresql://media_hub_user:staging_password_change_me@postgres:5432/media_hub_staging

# Redis 配置
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=staging_redis_password
REDIS_DB=0
REDIS_URL=redis://:staging_redis_password@redis:6379/0

# JWT 配置
JWT_SECRET=staging_jwt_secret_key_change_me_in_production
JWT_EXPIRES_IN=24h
REFRESH_TOKEN_EXPIRES_IN=7d

# 日志配置
LOG_LEVEL=info
LOG_FORMAT=json

# 腾讯云 COS 配置 (预发布环境)
COS_SECRET_ID=your_staging_secret_id
COS_SECRET_KEY=your_staging_secret_key
COS_REGION=ap-beijing
COS_BUCKET=media-hub-staging
COS_DOMAIN=https://media-hub-staging.cos.ap-beijing.myqcloud.com

# Docker 镜像配置
DOCKER_REGISTRY=your-registry.com
FRONTEND_IMAGE=${DOCKER_REGISTRY}/media-hub-frontend:latest
BACKEND_IMAGE=${DOCKER_REGISTRY}/media-hub-backend:latest

# 部署配置
DEPLOY_ENV=staging
DEPLOY_DOMAIN=staging.media-hub.com
DEPLOY_PROTOCOL=https

# 监控配置
ENABLE_METRICS=true
METRICS_PORT=9090

# 邮件配置 (可选)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=noreply@staging.media-hub.com
SMTP_PASSWORD=staging_smtp_password
SMTP_FROM=noreply@staging.media-hub.com

# 安全配置
CORS_ORIGINS=https://staging.media-hub.com,http://localhost:3000
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW=15m

# 文件上传配置
MAX_FILE_SIZE=100MB
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,mp4,mov,avi,pdf,doc,docx

# 缓存配置
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# 数据库连接池配置
DB_MAX_CONNECTIONS=20
DB_MIN_CONNECTIONS=5
DB_CONNECTION_TIMEOUT=30s

# 健康检查配置
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3