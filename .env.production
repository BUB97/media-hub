# 生产环境配置

# 应用配置
NODE_ENV=production
RUST_ENV=production
APP_NAME=media-hub
APP_VERSION=1.0.0

# 服务端口
FRONTEND_PORT=3000
BACKEND_PORT=8000
NGINX_PORT=80

# 数据库配置
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=media_hub_production
POSTGRES_USER=media_hub_user
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_FOR_PRODUCTION
DATABASE_URL=postgresql://media_hub_user:CHANGE_ME_STRONG_PASSWORD_FOR_PRODUCTION@postgres:5432/media_hub_production

# Redis 配置
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_STRONG_REDIS_PASSWORD
REDIS_DB=0
REDIS_URL=redis://:CHANGE_ME_STRONG_REDIS_PASSWORD@redis:6379/0

# JWT 配置
JWT_SECRET=CHANGE_ME_VERY_STRONG_JWT_SECRET_KEY_FOR_PRODUCTION_USE_RANDOM_STRING
JWT_EXPIRES_IN=1h
REFRESH_TOKEN_EXPIRES_IN=7d

# 日志配置
LOG_LEVEL=warn
LOG_FORMAT=json

# 腾讯云 COS 配置 (生产环境)
COS_SECRET_ID=your_production_secret_id
COS_SECRET_KEY=your_production_secret_key
COS_REGION=ap-beijing
COS_BUCKET=media-hub-production
COS_DOMAIN=https://media-hub-production.cos.ap-beijing.myqcloud.com

# Docker 镜像配置
DOCKER_REGISTRY=your-registry.com
FRONTEND_IMAGE=${DOCKER_REGISTRY}/media-hub-frontend:latest
BACKEND_IMAGE=${DOCKER_REGISTRY}/media-hub-backend:latest

# 部署配置
DEPLOY_ENV=production
DEPLOY_DOMAIN=media-hub.com
DEPLOY_PROTOCOL=https

# 监控配置
ENABLE_METRICS=true
METRICS_PORT=9090

# 邮件配置
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=noreply@media-hub.com
SMTP_PASSWORD=CHANGE_ME_SMTP_PASSWORD
SMTP_FROM=noreply@media-hub.com

# 安全配置
CORS_ORIGINS=https://media-hub.com,https://www.media-hub.com
RATE_LIMIT_MAX=500
RATE_LIMIT_WINDOW=15m

# 文件上传配置
MAX_FILE_SIZE=100MB
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,mp4,mov,avi,pdf,doc,docx

# 缓存配置
CACHE_TTL=7200
CACHE_MAX_SIZE=5000

# 数据库连接池配置
DB_MAX_CONNECTIONS=50
DB_MIN_CONNECTIONS=10
DB_CONNECTION_TIMEOUT=30s

# 健康检查配置
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# SSL/TLS 配置
SSL_CERT_PATH=/etc/ssl/certs/media-hub.crt
SSL_KEY_PATH=/etc/ssl/private/media-hub.key

# 备份配置
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=media-hub-backups

# 性能配置
WORKER_PROCESSES=auto
WORKER_CONNECTIONS=1024
KEEPALIVE_TIMEOUT=65s

# 安全增强
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
CSP_ENABLED=true
XSS_PROTECTION=true